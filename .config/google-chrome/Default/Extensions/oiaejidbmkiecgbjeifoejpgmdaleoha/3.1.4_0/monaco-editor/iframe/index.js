!function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(o){return e[o]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="/",t(t.s=247)}({247:function(e,o,t){"use strict";t.r(o);var n={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"d41649"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"d41649"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"d41649"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{editorBackground:"#FFFFFE",editorForeground:"#000000",editorInactiveSelection:"#E5EBF1",editorIndentGuides:"#D3D3D3",editorActiveIndentGuides:"#939393",editorSelectionHighlight:"#ADD6FF4D"}};new(function(){function e(){var e=this;this.loadEditor((function(){e.attachWindowListeners(),e.defineThemes(),e.initEditor(),e.postMessage({type:"stylebotMonacoIframeLoaded"})}))}return e.prototype.loadEditor=function(e){window.require.config({paths:{vs:chrome.runtime.getURL("monaco-editor/iframe/node_modules/monaco-editor/min/vs")}}),window.require(["vs/editor/editor.main"],e)},e.prototype.defineThemes=function(){window.monaco.editor.defineTheme("custom-light",n)},e.prototype.initEditor=function(){var e=this,o=this.getContainer(),t=this.getEditorOptions();this.editor=window.monaco.editor.create(o,t),this.editor.onDidChangeModelContent((function(){e.postMessage({css:e.editor.getValue(),type:"stylebotMonacoIframeCssUpdated"})}))},e.prototype.getContainer=function(){return document.getElementById("container")},e.prototype.getEditorOptions=function(){var e=this.getContainer();return{value:"",tabSize:2,theme:"custom-light",wordWrap:"bounded",wordWrapColumn:Math.round(e.offsetWidth/8),scrollBeyondLastLine:!1,language:"css",folding:!1,renderLineHighlight:"none",suggestOnTriggerCharacters:!1,cursorBlinking:"smooth",mouseWheelZoom:!1,lineNumbers:"off",minimap:{enabled:!1},hover:{enabled:!1},codeLens:!1}},e.prototype.postMessage=function(e){window.parent.postMessage(e,"*")},e.prototype.handleStylebotCssUpdate=function(e,o){if(this.editor.setValue(e),this.editor.focus(),o){var t="^"+o+"\\s\\{\\n\\s*(?!\\}).*$",n=this.editor.getModel().findNextMatch(t,{column:1,lineNumber:1},!0);n&&this.editor.setSelection({startColumn:n.range.endColumn,startLineNumber:n.range.endLineNumber,endColumn:n.range.endColumn,endLineNumber:n.range.endLineNumber})}},e.prototype.attachWindowListeners=function(){var e=this;window.addEventListener("resize",(function(){e.editor.layout(),e.editor.updateOptions(e.getEditorOptions())})),window.addEventListener("message",(function(o){"stylebotCssUpdate"===o.data.type&&e.handleStylebotCssUpdate(o.data.css,o.data.selector)}))},e}())}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbW9uYWNvLWVkaXRvci9pZnJhbWUvdGhlbWVzL0N1c3RvbUxpZ2h0LnRzIiwid2VicGFjazovLy8uL21vbmFjby1lZGl0b3IvaWZyYW1lL2luZGV4LnRzIiwid2VicGFjazovLy8uL21vbmFjby1lZGl0b3IvaWZyYW1lL01vbmFjb0VkaXRvcklmcmFtZS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImJhc2UiLCJpbmhlcml0IiwicnVsZXMiLCJ0b2tlbiIsImZvcmVncm91bmQiLCJiYWNrZ3JvdW5kIiwiZm9udFN0eWxlIiwiY29sb3JzIiwiZWRpdG9yQmFja2dyb3VuZCIsImVkaXRvckZvcmVncm91bmQiLCJlZGl0b3JJbmFjdGl2ZVNlbGVjdGlvbiIsImVkaXRvckluZGVudEd1aWRlcyIsImVkaXRvckFjdGl2ZUluZGVudEd1aWRlcyIsImVkaXRvclNlbGVjdGlvbkhpZ2hsaWdodCIsIk1vbmFjRWRpdG9ySWZyYW1lIiwiX3RoaXMiLCJ0aGlzIiwibG9hZEVkaXRvciIsImF0dGFjaFdpbmRvd0xpc3RlbmVycyIsImRlZmluZVRoZW1lcyIsImluaXRFZGl0b3IiLCJwb3N0TWVzc2FnZSIsInR5cGUiLCJjYWxsYmFjayIsIndpbmRvdyIsInJlcXVpcmUiLCJjb25maWciLCJwYXRocyIsInZzIiwiY2hyb21lIiwicnVudGltZSIsImdldFVSTCIsIm1vbmFjbyIsImVkaXRvciIsImRlZmluZVRoZW1lIiwiQ3VzdG9tTGlnaHQiLCJjb250YWluZXIiLCJnZXRDb250YWluZXIiLCJlZGl0b3JPcHRpb25zIiwiZ2V0RWRpdG9yT3B0aW9ucyIsIm9uRGlkQ2hhbmdlTW9kZWxDb250ZW50IiwiY3NzIiwiZ2V0VmFsdWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGFiU2l6ZSIsInRoZW1lIiwid29yZFdyYXAiLCJ3b3JkV3JhcENvbHVtbiIsIk1hdGgiLCJyb3VuZCIsIm9mZnNldFdpZHRoIiwic2Nyb2xsQmV5b25kTGFzdExpbmUiLCJsYW5ndWFnZSIsImZvbGRpbmciLCJyZW5kZXJMaW5lSGlnaGxpZ2h0Iiwic3VnZ2VzdE9uVHJpZ2dlckNoYXJhY3RlcnMiLCJjdXJzb3JCbGlua2luZyIsIm1vdXNlV2hlZWxab29tIiwibGluZU51bWJlcnMiLCJtaW5pbWFwIiwiZW5hYmxlZCIsImhvdmVyIiwiY29kZUxlbnMiLCJtZXNzYWdlIiwicGFyZW50IiwiaGFuZGxlU3R5bGVib3RDc3NVcGRhdGUiLCJzZWxlY3RvciIsInNldFZhbHVlIiwiZm9jdXMiLCJyZWdleCIsIm1hdGNoIiwiZ2V0TW9kZWwiLCJmaW5kTmV4dE1hdGNoIiwiY29sdW1uIiwibGluZU51bWJlciIsInNldFNlbGVjdGlvbiIsInN0YXJ0Q29sdW1uIiwicmFuZ2UiLCJlbmRDb2x1bW4iLCJzdGFydExpbmVOdW1iZXIiLCJlbmRMaW5lTnVtYmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxheW91dCIsInVwZGF0ZU9wdGlvbnMiLCJkYXRhIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxD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aUIsT0FBT21DLFNBQVMzQixHQUNyQnpCLEtBQUtpQixPQUFPb0MsUUFDUkYsRUFBVSxDQUNWLElBQUlHLEVBQVEsSUFBTUgsRUFBVywwQkFDekJJLEVBQVF2RCxLQUFLaUIsT0FBT3VDLFdBQVdDLGNBQWNILEVBQU8sQ0FDcERJLE9BQVEsRUFDUkMsV0FBWSxJQUNiLEdBQ0NKLEdBQ0F2RCxLQUFLaUIsT0FBTzJDLGFBQWEsQ0FDckJDLFlBQWFOLEVBQU1PLE1BQU1DLFVBQ3pCQyxnQkFBaUJULEVBQU1PLE1BQU1HLGNBQzdCRixVQUFXUixFQUFNTyxNQUFNQyxVQUN2QkUsY0FBZVYsRUFBTU8sTUFBTUcsa0JBSzNDbkUsRUFBa0JsQixVQUFVc0Isc0JBQXdCLFdBQ2hELElBQUlILEVBQVFDLEtBQ1pRLE9BQU8wRCxpQkFBaUIsVUFBVSxXQUM5Qm5FLEVBQU1rQixPQUFPa0QsU0FDYnBFLEVBQU1rQixPQUFPbUQsY0FBY3JFLEVBQU13Qix1QkFFckNmLE9BQU8wRCxpQkFBaUIsV0FBVyxTQUFVbEIsR0FDZixzQkFBdEJBLEVBQVFxQixLQUFLL0QsTUFDYlAsRUFBTW1ELHdCQUF3QkYsRUFBUXFCLEtBQUs1QyxJQUFLdUIsRUFBUXFCLEtBQUtsQixjQUlsRXJELEVBbkcyQiIsImZpbGUiOiJtb25hY28tZWRpdG9yL2lmcmFtZS9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjQ3KTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBiYXNlOiAndnMnLFxuICAgIGluaGVyaXQ6IGZhbHNlLFxuICAgIHJ1bGVzOiBbXG4gICAgICAgIHsgdG9rZW46ICcnLCBmb3JlZ3JvdW5kOiAnMDAwMDAwJywgYmFja2dyb3VuZDogJ2ZmZmZmZScgfSxcbiAgICAgICAgeyB0b2tlbjogJ2ludmFsaWQnLCBmb3JlZ3JvdW5kOiAnY2QzMTMxJyB9LFxuICAgICAgICB7IHRva2VuOiAnZW1waGFzaXMnLCBmb250U3R5bGU6ICdpdGFsaWMnIH0sXG4gICAgICAgIHsgdG9rZW46ICdzdHJvbmcnLCBmb250U3R5bGU6ICdib2xkJyB9LFxuICAgICAgICB7IHRva2VuOiAndmFyaWFibGUnLCBmb3JlZ3JvdW5kOiAnMDAxMTg4JyB9LFxuICAgICAgICB7IHRva2VuOiAndmFyaWFibGUucHJlZGVmaW5lZCcsIGZvcmVncm91bmQ6ICc0ODY0QUEnIH0sXG4gICAgICAgIHsgdG9rZW46ICdjb25zdGFudCcsIGZvcmVncm91bmQ6ICdkZDAwMDAnIH0sXG4gICAgICAgIHsgdG9rZW46ICdjb21tZW50JywgZm9yZWdyb3VuZDogJzAwODAwMCcgfSxcbiAgICAgICAgeyB0b2tlbjogJ251bWJlcicsIGZvcmVncm91bmQ6ICcwOTg2NTgnIH0sXG4gICAgICAgIHsgdG9rZW46ICdudW1iZXIuaGV4JywgZm9yZWdyb3VuZDogJzMwMzBjMCcgfSxcbiAgICAgICAgeyB0b2tlbjogJ3JlZ2V4cCcsIGZvcmVncm91bmQ6ICc4MDAwMDAnIH0sXG4gICAgICAgIHsgdG9rZW46ICdhbm5vdGF0aW9uJywgZm9yZWdyb3VuZDogJzgwODA4MCcgfSxcbiAgICAgICAgeyB0b2tlbjogJ3R5cGUnLCBmb3JlZ3JvdW5kOiAnMDA4MDgwJyB9LFxuICAgICAgICB7IHRva2VuOiAnZGVsaW1pdGVyJywgZm9yZWdyb3VuZDogJzAwMDAwMCcgfSxcbiAgICAgICAgeyB0b2tlbjogJ2RlbGltaXRlci5odG1sJywgZm9yZWdyb3VuZDogJzM4MzgzOCcgfSxcbiAgICAgICAgeyB0b2tlbjogJ2RlbGltaXRlci54bWwnLCBmb3JlZ3JvdW5kOiAnMDAwMEZGJyB9LFxuICAgICAgICB7IHRva2VuOiAndGFnJywgZm9yZWdyb3VuZDogJzgwMDAwMCcgfSxcbiAgICAgICAgeyB0b2tlbjogJ3RhZy5pZC5wdWcnLCBmb3JlZ3JvdW5kOiAnNEY3NkFDJyB9LFxuICAgICAgICB7IHRva2VuOiAndGFnLmNsYXNzLnB1ZycsIGZvcmVncm91bmQ6ICc0Rjc2QUMnIH0sXG4gICAgICAgIHsgdG9rZW46ICdtZXRhLnNjc3MnLCBmb3JlZ3JvdW5kOiAnODAwMDAwJyB9LFxuICAgICAgICB7IHRva2VuOiAnbWV0YXRhZycsIGZvcmVncm91bmQ6ICdlMDAwMDAnIH0sXG4gICAgICAgIHsgdG9rZW46ICdtZXRhdGFnLmNvbnRlbnQuaHRtbCcsIGZvcmVncm91bmQ6ICdkNDE2NDknIH0sXG4gICAgICAgIHsgdG9rZW46ICdtZXRhdGFnLmh0bWwnLCBmb3JlZ3JvdW5kOiAnODA4MDgwJyB9LFxuICAgICAgICB7IHRva2VuOiAnbWV0YXRhZy54bWwnLCBmb3JlZ3JvdW5kOiAnODA4MDgwJyB9LFxuICAgICAgICB7IHRva2VuOiAnbWV0YXRhZy5waHAnLCBmb250U3R5bGU6ICdib2xkJyB9LFxuICAgICAgICB7IHRva2VuOiAna2V5JywgZm9yZWdyb3VuZDogJzg2M0IwMCcgfSxcbiAgICAgICAgeyB0b2tlbjogJ3N0cmluZy5rZXkuanNvbicsIGZvcmVncm91bmQ6ICdBMzE1MTUnIH0sXG4gICAgICAgIHsgdG9rZW46ICdzdHJpbmcudmFsdWUuanNvbicsIGZvcmVncm91bmQ6ICcwNDUxQTUnIH0sXG4gICAgICAgIHsgdG9rZW46ICdhdHRyaWJ1dGUubmFtZScsIGZvcmVncm91bmQ6ICdkNDE2NDknIH0sXG4gICAgICAgIHsgdG9rZW46ICdhdHRyaWJ1dGUudmFsdWUnLCBmb3JlZ3JvdW5kOiAnMDQ1MUE1JyB9LFxuICAgICAgICB7IHRva2VuOiAnYXR0cmlidXRlLnZhbHVlLm51bWJlcicsIGZvcmVncm91bmQ6ICcwOTg2NTgnIH0sXG4gICAgICAgIHsgdG9rZW46ICdhdHRyaWJ1dGUudmFsdWUudW5pdCcsIGZvcmVncm91bmQ6ICcwOTg2NTgnIH0sXG4gICAgICAgIHsgdG9rZW46ICdhdHRyaWJ1dGUudmFsdWUuaHRtbCcsIGZvcmVncm91bmQ6ICcwMDAwRkYnIH0sXG4gICAgICAgIHsgdG9rZW46ICdhdHRyaWJ1dGUudmFsdWUueG1sJywgZm9yZWdyb3VuZDogJzAwMDBGRicgfSxcbiAgICAgICAgeyB0b2tlbjogJ3N0cmluZycsIGZvcmVncm91bmQ6ICdBMzE1MTUnIH0sXG4gICAgICAgIHsgdG9rZW46ICdzdHJpbmcuaHRtbCcsIGZvcmVncm91bmQ6ICcwMDAwRkYnIH0sXG4gICAgICAgIHsgdG9rZW46ICdzdHJpbmcuc3FsJywgZm9yZWdyb3VuZDogJ2Q0MTY0OScgfSxcbiAgICAgICAgeyB0b2tlbjogJ3N0cmluZy55YW1sJywgZm9yZWdyb3VuZDogJzA0NTFBNScgfSxcbiAgICAgICAgeyB0b2tlbjogJ2tleXdvcmQnLCBmb3JlZ3JvdW5kOiAnMDAwMEZGJyB9LFxuICAgICAgICB7IHRva2VuOiAna2V5d29yZC5qc29uJywgZm9yZWdyb3VuZDogJzA0NTFBNScgfSxcbiAgICAgICAgeyB0b2tlbjogJ2tleXdvcmQuZmxvdycsIGZvcmVncm91bmQ6ICdBRjAwREInIH0sXG4gICAgICAgIHsgdG9rZW46ICdrZXl3b3JkLmZsb3cuc2NzcycsIGZvcmVncm91bmQ6ICcwMDAwRkYnIH0sXG4gICAgICAgIHsgdG9rZW46ICdvcGVyYXRvci5zY3NzJywgZm9yZWdyb3VuZDogJzY2NjY2NicgfSxcbiAgICAgICAgeyB0b2tlbjogJ29wZXJhdG9yLnNxbCcsIGZvcmVncm91bmQ6ICc3Nzg4OTknIH0sXG4gICAgICAgIHsgdG9rZW46ICdvcGVyYXRvci5zd2lmdCcsIGZvcmVncm91bmQ6ICc2NjY2NjYnIH0sXG4gICAgICAgIHsgdG9rZW46ICdwcmVkZWZpbmVkLnNxbCcsIGZvcmVncm91bmQ6ICdGRjAwRkYnIH0sXG4gICAgXSxcbiAgICBjb2xvcnM6IHtcbiAgICAgICAgZWRpdG9yQmFja2dyb3VuZDogJyNGRkZGRkUnLFxuICAgICAgICBlZGl0b3JGb3JlZ3JvdW5kOiAnIzAwMDAwMCcsXG4gICAgICAgIGVkaXRvckluYWN0aXZlU2VsZWN0aW9uOiAnI0U1RUJGMScsXG4gICAgICAgIGVkaXRvckluZGVudEd1aWRlczogJyNEM0QzRDMnLFxuICAgICAgICBlZGl0b3JBY3RpdmVJbmRlbnRHdWlkZXM6ICcjOTM5MzkzJyxcbiAgICAgICAgZWRpdG9yU2VsZWN0aW9uSGlnaGxpZ2h0OiAnI0FERDZGRjREJyxcbiAgICB9LFxufTtcbiIsImltcG9ydCBNb25hY29FZGl0b3JJZnJhbWUgZnJvbSAnLi9Nb25hY29FZGl0b3JJZnJhbWUnO1xubmV3IE1vbmFjb0VkaXRvcklmcmFtZSgpO1xuIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuaW1wb3J0IEN1c3RvbUxpZ2h0IGZyb20gJy4vdGhlbWVzL0N1c3RvbUxpZ2h0JztcbnZhciBNb25hY0VkaXRvcklmcmFtZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNb25hY0VkaXRvcklmcmFtZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2FkRWRpdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmF0dGFjaFdpbmRvd0xpc3RlbmVycygpO1xuICAgICAgICAgICAgX3RoaXMuZGVmaW5lVGhlbWVzKCk7XG4gICAgICAgICAgICBfdGhpcy5pbml0RWRpdG9yKCk7XG4gICAgICAgICAgICBfdGhpcy5wb3N0TWVzc2FnZSh7IHR5cGU6ICdzdHlsZWJvdE1vbmFjb0lmcmFtZUxvYWRlZCcgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBNb25hY0VkaXRvcklmcmFtZS5wcm90b3R5cGUubG9hZEVkaXRvciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB3aW5kb3cucmVxdWlyZS5jb25maWcoe1xuICAgICAgICAgICAgcGF0aHM6IHtcbiAgICAgICAgICAgICAgICB2czogY2hyb21lLnJ1bnRpbWUuZ2V0VVJMKCdtb25hY28tZWRpdG9yL2lmcmFtZS9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9taW4vdnMnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cucmVxdWlyZShbJ3ZzL2VkaXRvci9lZGl0b3IubWFpbiddLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBNb25hY0VkaXRvcklmcmFtZS5wcm90b3R5cGUuZGVmaW5lVGhlbWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aW5kb3cubW9uYWNvLmVkaXRvci5kZWZpbmVUaGVtZSgnY3VzdG9tLWxpZ2h0JywgQ3VzdG9tTGlnaHQpO1xuICAgIH07XG4gICAgTW9uYWNFZGl0b3JJZnJhbWUucHJvdG90eXBlLmluaXRFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldENvbnRhaW5lcigpO1xuICAgICAgICB2YXIgZWRpdG9yT3B0aW9ucyA9IHRoaXMuZ2V0RWRpdG9yT3B0aW9ucygpO1xuICAgICAgICB0aGlzLmVkaXRvciA9IHdpbmRvdy5tb25hY28uZWRpdG9yLmNyZWF0ZShjb250YWluZXIsIGVkaXRvck9wdGlvbnMpO1xuICAgICAgICB0aGlzLmVkaXRvci5vbkRpZENoYW5nZU1vZGVsQ29udGVudChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgY3NzOiBfdGhpcy5lZGl0b3IuZ2V0VmFsdWUoKSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3R5bGVib3RNb25hY29JZnJhbWVDc3NVcGRhdGVkJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1vbmFjRWRpdG9ySWZyYW1lLnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIERPTSBlbGVtZW50IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3QsIHNvIHR5cGVjYXN0aW5nIGl0LlxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgIH07XG4gICAgTW9uYWNFZGl0b3JJZnJhbWUucHJvdG90eXBlLmdldEVkaXRvck9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldENvbnRhaW5lcigpO1xuICAgICAgICAvLyB0b2RvOiBmaW5kIGEgbW9yZSByb2J1c3QgLyBhY2N1cmF0ZSB3YXkgdG8gY29tcHV0ZTtcbiAgICAgICAgLy8gbWlnaHQgbm90IHdvcmsgZm9yIHNvbWUgY2FzZXNcbiAgICAgICAgdmFyIHdvcmRXcmFwQ29sdW1uID0gTWF0aC5yb3VuZChjb250YWluZXIub2Zmc2V0V2lkdGggLyA4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgIHRhYlNpemU6IDIsXG4gICAgICAgICAgICB0aGVtZTogJ2N1c3RvbS1saWdodCcsXG4gICAgICAgICAgICB3b3JkV3JhcDogJ2JvdW5kZWQnLFxuICAgICAgICAgICAgd29yZFdyYXBDb2x1bW46IHdvcmRXcmFwQ29sdW1uLFxuICAgICAgICAgICAgc2Nyb2xsQmV5b25kTGFzdExpbmU6IGZhbHNlLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6ICdjc3MnLFxuICAgICAgICAgICAgZm9sZGluZzogZmFsc2UsXG4gICAgICAgICAgICByZW5kZXJMaW5lSGlnaGxpZ2h0OiAnbm9uZScsXG4gICAgICAgICAgICBzdWdnZXN0T25UcmlnZ2VyQ2hhcmFjdGVyczogZmFsc2UsXG4gICAgICAgICAgICBjdXJzb3JCbGlua2luZzogJ3Ntb290aCcsXG4gICAgICAgICAgICBtb3VzZVdoZWVsWm9vbTogZmFsc2UsXG4gICAgICAgICAgICBsaW5lTnVtYmVyczogJ29mZicsXG4gICAgICAgICAgICBtaW5pbWFwOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb2RlTGVuczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNb25hY0VkaXRvcklmcmFtZS5wcm90b3R5cGUucG9zdE1lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKG1lc3NhZ2UsICcqJyk7XG4gICAgfTtcbiAgICBNb25hY0VkaXRvcklmcmFtZS5wcm90b3R5cGUuaGFuZGxlU3R5bGVib3RDc3NVcGRhdGUgPSBmdW5jdGlvbiAoY3NzLCBzZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmVkaXRvci5zZXRWYWx1ZShjc3MpO1xuICAgICAgICB0aGlzLmVkaXRvci5mb2N1cygpO1xuICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHZhciByZWdleCA9IFwiXlwiICsgc2VsZWN0b3IgKyBcIlxcXFxzXFxcXHtcXFxcblxcXFxzKig/IVxcXFx9KS4qJFwiO1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gdGhpcy5lZGl0b3IuZ2V0TW9kZWwoKS5maW5kTmV4dE1hdGNoKHJlZ2V4LCB7XG4gICAgICAgICAgICAgICAgY29sdW1uOiAxLFxuICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNldFNlbGVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBtYXRjaC5yYW5nZS5lbmRDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogbWF0Y2gucmFuZ2UuZW5kTGluZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgZW5kQ29sdW1uOiBtYXRjaC5yYW5nZS5lbmRDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IG1hdGNoLnJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1vbmFjRWRpdG9ySWZyYW1lLnByb3RvdHlwZS5hdHRhY2hXaW5kb3dMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5lZGl0b3IubGF5b3V0KCk7XG4gICAgICAgICAgICBfdGhpcy5lZGl0b3IudXBkYXRlT3B0aW9ucyhfdGhpcy5nZXRFZGl0b3JPcHRpb25zKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuZGF0YS50eXBlID09PSAnc3R5bGVib3RDc3NVcGRhdGUnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlU3R5bGVib3RDc3NVcGRhdGUobWVzc2FnZS5kYXRhLmNzcywgbWVzc2FnZS5kYXRhLnNlbGVjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTW9uYWNFZGl0b3JJZnJhbWU7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgTW9uYWNFZGl0b3JJZnJhbWU7XG4iXSwic291cmNlUm9vdCI6IiJ9